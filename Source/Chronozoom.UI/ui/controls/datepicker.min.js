var CZ;(function(n){(function(t){var i=function(){function t(n){if(this.datePicker=n,this.INFINITY_VALUE=9999,this.WRONG_YEAR_INPUT="Year should be a number.",!(n instanceof jQuery&&n.is("div")))throw"DatePicker parameter is invalid! It should be jQuery instance of DIV.";this.coordinate=0;this.initialize()}return t.prototype.initialize=function(){var n=this,t,i;this.datePicker.addClass("cz-datepicker");this.modeSelector=$("<select class='cz-datepicker-mode cz-input'><\/select>");t=$("<option value='year'>Year<\/option>");i=$("<option value='date'>Date<\/option>");this.modeSelector.change(function(){var t=n.modeSelector.find(":selected").val();n.errorMsg.text("");switch(t){case"year":n.editModeYear();n.setDate_YearMode(n.coordinate,!1);break;case"date":n.editModeDate();n.setDate_DateMode(n.coordinate);break;case"infinite":n.editModeInfinite()}});this.modeSelector.append(t);this.modeSelector.append(i);this.dateContainer=$("<div class='cz-datepicker-container'><\/div>");this.errorMsg=$("<div class='cz-datepicker-errormsg'><\/div>");this.datePicker.append(this.modeSelector);this.datePicker.append(this.dateContainer);this.datePicker.append(this.errorMsg);this.editModeYear();this.setDate(this.coordinate,!0)},t.prototype.remove=function(){this.datePicker.empty();this.datePicker.removeClass("cz-datepicker")},t.prototype.addEditMode_Infinite=function(){var n=$("<option value='infinite'>Infinite<\/option>");this.modeSelector.append(n)},t.prototype.setCirca=function(n){$(this.circaSelector).find("input").prop("checked",n)},t.prototype.setDate=function(t,i){if(typeof i=="undefined"&&(i=!1),!this.validateNumber(t))return!1;t=Number(t);this.coordinate=t;var r=n.Dates.convertCoordinateToYear(this.coordinate).regime;if(this.coordinate===this.INFINITY_VALUE){this.modeSelector.find(":selected").attr("selected","false");this.modeSelector.find("option").each(function(){if($(this).val()==="infinite"){$(this).attr("selected","selected");return}});this.editModeInfinite();return}switch(r.toLowerCase()){case"ga":case"ma":case"ka":this.modeSelector.find(":selected").attr("selected","false");this.modeSelector.find("option").each(function(){if($(this).val()==="year"){$(this).attr("selected","selected");return}});this.editModeYear();this.setDate_YearMode(t,i);break;case"bce":case"ce":this.modeSelector.find(":selected").attr("selected","false");this.modeSelector.find("option").each(function(){if($(this).val()==="date"){$(this).attr("selected","selected");return}});this.editModeDate();this.setDate_DateMode(t)}},t.prototype.getCirca=function(){var n=this.modeSelector.find(":selected").val();switch(n){case"year":case"date":return $(this.circaSelector).find("input").prop("checked");default:return!1}},t.prototype.getDate=function(){var n=this.modeSelector.find(":selected").val();switch(n){case"year":return this.getDate_YearMode();case"date":return this.getDate_DateMode();case"infinite":return this.INFINITY_VALUE}},t.prototype.editModeYear=function(){var n=this;this.dateContainer.empty();this.yearSelector=$("<input type='text' class='cz-datepicker-year-year cz-input'><\/input>");this.regimeSelector=$("<select class='cz-datepicker-regime cz-input'><\/select>");this.circaSelector=$('<div class="cz-datepicker-circa">Circa / Approximate: <input type="checkbox" /><\/label>');this.yearSelector.focus(function(){n.errorMsg.text("")});this.regimeSelector.change(function(){n.checkAndRemoveNonIntegerPart()});this.yearSelector.blur(function(){n.validateNumber(n.yearSelector.val())||n.errorMsg.text(n.WRONG_YEAR_INPUT);n.checkAndRemoveNonIntegerPart()});var t=$("<option value='ga'>Ga<\/option>"),i=$("<option value='ma'>Ma<\/option>"),r=$("<option value='ka'>Ka<\/option>"),u=$("<option value='bce'>BCE<\/option>"),f=$("<option value='ce'>CE<\/option>");this.regimeSelector.append(t).append(i).append(r).append(u).append(f);this.dateContainer.append(this.yearSelector);this.dateContainer.append(this.regimeSelector);this.dateContainer.append("<br />");this.dateContainer.append(this.circaSelector)},t.prototype.editModeDate=function(){var t=this,i,r,u;for(this.dateContainer.empty(),this.daySelector=$("<select class='cz-datepicker-day-selector cz-input'><\/select>"),this.monthSelector=$("<select class='cz-datepicker-month-selector cz-input'><\/select>"),this.yearSelector=$("<input type='text' class='cz-datepicker-year-date cz-input'><\/input>"),this.circaSelector=$('<div class="cz-datepicker-circa">Circa / Approximate: <input type="checkbox" /><\/label>'),this.yearSelector.focus(function(){t.errorMsg.text("")}),this.yearSelector.blur(function(){t.validateNumber(t.yearSelector.val())||t.errorMsg.text(t.WRONG_YEAR_INPUT);t.checkAndRemoveNonIntegerPart()}),i=this,this.monthSelector.change(function(){var r,t,u;for(i.daySelector.empty(),r=i.monthSelector[0].selectedIndex,t=0;t<n.Dates.daysInMonth[r];t++)u=$("<option value='"+(t+1)+"'>"+(t+1)+"<\/option>"),i.daySelector.append(u)}),r=0;r<n.Dates.months.length;r++)u=$("<option value='"+n.Dates.months[r]+"'>"+n.Dates.months[r]+"<\/option>"),this.monthSelector.append(u);i.monthSelector.trigger("change");this.dateContainer.append(this.monthSelector);this.dateContainer.append(this.daySelector);this.dateContainer.append(this.yearSelector);this.dateContainer.append("<br />");this.dateContainer.append(this.circaSelector)},t.prototype.editModeInfinite=function(){this.dateContainer.empty()},t.prototype.checkAndRemoveNonIntegerPart=function(){var n=this.regimeSelector.find(":selected").val().toLowerCase(),t=this.modeSelector.find(":selected").val().toLowerCase();(n==="ce"||n==="bce"||t==="date")&&this.yearSelector.val(parseFloat(this.yearSelector.val()).toFixed())},t.prototype.setDate_YearMode=function(t,i){var r=n.Dates.convertCoordinateToYear(t);r.regime.toLowerCase()=="bce"&&i&&r.year--;this.yearSelector.val(r.year.toString());this.regimeSelector.find(":selected").attr("selected","false");this.regimeSelector.find("option").each(function(){this.value===r.regime.toLowerCase()&&$(this).attr("selected","selected")})},t.prototype.setDate_DateMode=function(t){var i=n.Dates.getYMDFromCoordinate(t),r;this.yearSelector.val(i.year.toString());r=this;this.monthSelector.find("option").each(function(){this.value===n.Dates.months[i.month]&&($(this).attr("selected","selected"),$.when(r.monthSelector.trigger("change")).done(function(){r.daySelector.find("option").each(function(){parseInt(this.value)===i.day&&$(this).attr("selected","selected")})}))})},t.prototype.getDate_YearMode=function(){var t=this.yearSelector.val(),i;return this.validateNumber(t)?(i=this.regimeSelector.find(":selected").val(),n.Dates.convertYearToCoordinate(t,i)):!1},t.prototype.getDate_DateMode=function(){var t=this.yearSelector.val(),i,r;return this.validateNumber(t)?(t=parseInt(t),i=this.monthSelector.find(":selected").val(),i=n.Dates.months.indexOf(i),r=parseInt(this.daySelector.find(":selected").val()),n.Dates.getCoordinateFromYMD(t,i,r)):!1},t.prototype.validateNumber=function(n){return!isNaN(Number(n))&&isFinite(Number(n))&&!isNaN(parseFloat(n))},t}();t.DatePicker=i})(n.UI||(n.UI={}));var t=n.UI})(CZ||(CZ={}));
/*
//# sourceMappingURL=datepicker.min.js.map
*/