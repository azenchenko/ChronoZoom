var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},CZ;(function(n){(function(t){var i=function(t){function i(i,r){var u=this,f;t.call(this,i,r);this.tourAmount=r.tours.length;this.takeTour=r.takeTour;this.editTour=r.editTour;f=r.tours.sort(function(n,t){return n.sequenceNum-t.sequenceNum});this.toursListbox=new n.UI.TourListbox(i.find("#tours"),r.tourTemplate,r.tours,function(n){u.onTakeTour(n)},this.editTour?function(n){u.onEditTour(n)}:null);this.createTourBtn=this.container.find(r.createTour);n.Settings.isAuthorized&&n.Settings.userCollectionName==n.Service.collectionName?$("#cz-tours-list-title").text("My Tours"):($("#cz-tours-list-title").text("Tours"),$("#tours-create-button").hide());r.tours.length!=0?($("#take-tour-proposal").show(),$("#tours-missed-warning").hide()):($("#take-tour-proposal").hide(),$("#tours-missed-warning").show());r.tours.length==0&&$("#take-tour-proposal").hide();this.initialize()}return __extends(i,t),i.prototype.initialize=function(){var t=this;this.createTourBtn.click(function(){n.Authoring.UI.createTour();t.close()})},i.prototype.show=function(){var n=this;$(window).resize(this.onWindowResize);this.onWindowResize(null);t.prototype.show.call(this,{effect:"slide",direction:"right",duration:500});this.activationSource.addClass("active")},i.prototype.close=function(){var i=this;$(window).unbind("resize",this.onWindowResize);t.prototype.close.call(this,{effect:"slide",direction:"right",duration:500,complete:function(){i.container.find("cz-form-errormsg").hide();i.container.find("#tours").empty();i.toursListbox.container.empty()}});n.Authoring.isActive=!1;this.activationSource.removeClass("active")},i.prototype.onTakeTour=function(n){this.close();this.takeTour(n)},i.prototype.onEditTour=function(n){this.close();this.editTour(n)},i.prototype.onWindowResize=function(){var n=$(window).height();this.container.height(n-70);this.container.find("#tour-listbox-wrapper").css("max-height",n-250+"px")},i}(n.UI.FormBase);t.FormToursList=i})(n.UI||(n.UI={}));var t=n.UI})(CZ||(CZ={}));
/*
//# sourceMappingURL=tourslist-form.min.js.map
*/